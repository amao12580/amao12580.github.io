<!doctype html><html class="theme-next pisces use-motion"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script><link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-flash.css" rel="stylesheet"><link href="//cdn.bootcss.com/animate.css/3.5.0/animate.css" rel="stylesheet"><link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet"><link href="//fonts.proxy.ustclug.org/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet"><link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"><link href="/css/main.css?v=5.0.1" rel="stylesheet"><meta name="keywords" content="amao12580"><link rel="alternate" href="/atom.xml" title="Cat's Blog" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.0.1"><meta name="description" content="Shortcut术语缩写
lsoflist of open files
一个列出当前系统打开文件的工具。在Linux环境下，任何事物都是以文件的形式存在，通过文件不仅可以访问常规数据，还可以访问网络连接和硬件。
grepglobal search regular expression(RE) and print out the line
全面搜索正则表达式并把行打印出来)是一种强大的文本搜索工具，"><meta property="og:type" content="website"><meta property="og:title" content="常用资源汇总"><meta property="og:url" content="https://www.kisscat.pro/index/index.html"><meta property="og:site_name" content="Cat's Blog"><meta property="og:description" content="Shortcut术语缩写
lsoflist of open files
一个列出当前系统打开文件的工具。在Linux环境下，任何事物都是以文件的形式存在，通过文件不仅可以访问常规数据，还可以访问网络连接和硬件。
grepglobal search regular expression(RE) and print out the line
全面搜索正则表达式并把行打印出来)是一种强大的文本搜索工具，"><meta property="og:updated_time" content="2016-09-26T07:19:24.578Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="常用资源汇总"><meta name="twitter:description" content="Shortcut术语缩写
lsoflist of open files
一个列出当前系统打开文件的工具。在Linux环境下，任何事物都是以文件的形式存在，通过文件不仅可以访问常规数据，还可以访问网络连接和硬件。
grepglobal search regular expression(RE) and print out the line
全面搜索正则表达式并把行打印出来)是一种强大的文本搜索工具，"><script id="hexo.configuration">var NexT=window.NexT||{},CONFIG={scheme:"Pisces",sidebar:{position:"left",display:"post"},fancybox:!0,motion:!0,duoshuo:{userId:0x56ed168b0c000400,author:"这是作者大大"}}</script><title>常用资源汇总 | Cat's Blog</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container one-collumn sidebar-position-left"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Cat's Blog</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">一饮一啄，莫非前定.</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-index"><a href="/index" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>索引</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="#" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup"><span class="search-icon fa fa-search"></span> <input type="text" id="local-search-input"><div id="local-search-result"></div><span class="popup-btn-close">close</span></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><h2 id="Shortcut"><a href="#Shortcut" class="headerlink" title="Shortcut"></a>Shortcut</h2><p>术语缩写</p><h3 id="lsof"><a href="#lsof" class="headerlink" title="lsof"></a>lsof</h3><p>list of open files</p><p>一个列出当前系统打开文件的工具。在Linux环境下，任何事物都是以文件的形式存在，通过文件不仅可以访问常规数据，还可以访问网络连接和硬件。</p><h3 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h3><p>global search regular expression(RE) and print out the line</p><p>全面搜索正则表达式并把行打印出来)是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。</p><h3 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h3><p>remote dictionary server</p><h3 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h3><p>append only log file</p><p>顺序记录系统日志</p><h3 id="UTC"><a href="#UTC" class="headerlink" title="UTC"></a>UTC</h3><p>协调世界时，又称世界标准时间或世界协调时间，简称UTC（英文“Coordinated Universal Time”／法文“Temps Universel Coordonné”），是最主要的世界时间标准，其以原子时秒长为基础，在时刻上尽量接近于格林尼治标准时间。</p><h3 id="LBS"><a href="#LBS" class="headerlink" title="LBS"></a>LBS</h3><p>Location-Based Service，基于位置服务</p><h3 id="GPS"><a href="#GPS" class="headerlink" title="GPS"></a>GPS</h3><p>全球定位系统（Global Positioning System，GPS）</p><h2 id="Linux-技巧"><a href="#Linux-技巧" class="headerlink" title="Linux 技巧"></a>Linux 技巧</h2><h3 id="1-批量转换文件字符集-GBK–-gt-UTF8"><a href="#1-批量转换文件字符集-GBK–-gt-UTF8" class="headerlink" title="1.批量转换文件字符集 GBK–&gt; UTF8"></a>1.批量转换文件字符集 GBK–&gt; UTF8</h3><p>1）查看文件编码<br>file -i filename</p><p>2）递归转换(包括子文件夹)<br>find default -type d -exec mkdir -p utf/{} \;<br>find default -type f -exec iconv -f GBK -t UTF-8 {} -o utf/{} \;</p><p>这两行命令将default目录下的文件由GBK编码转换为UTF-8编码，目录结构不变，转码后的文件保存在utf/default目录下。</p><p>注意：如果原来就是utf-8编码，使用iconv -f GBK -t UTF-8命令转换后，会出现乱码，或截断等各种问题；<br>一定要保证原文件是不是utf-8编码；</p><p>3）使用如下命令把文件编码先查出来：<br>find default -type f -exec file -i {} \; &gt; /tmp/a<br>查询是否存在已经是utf-8编码的文件：<br>grep “charset=utf-8” /tmp/a</p><p>用这个将算法学习工程的混合文件编码转换好了，使用maven install再也不报字符集问题了。</p><h3 id="tree"><a href="#tree" class="headerlink" title="tree"></a>tree</h3><p>windows和linux都有tree命令，主要功能是创建文件列表，将所有文件以树的形式列出来.</p><p>windows下使用：tree /f</p><p>/f参数是为了将文件名也打印出来</p><h3 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h3><p>安全停止nginx的运行 graceful<br>./nginx -s stop</p><p>查看nginx并发进程数<br>ps -ef | grep nginx | wc -l</p><p>查看Web服务器（nginx apache）的并发请求数及其TCP连接状态：<br>netstat -n | awk ‘/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}’<br>LAST_ACK 5 （正在等待处理的请求数）<br>SYN_RECV 30<br>ESTABLISHED 1597 （正常数据传输状态）<br>FIN_WAIT1 51<br>FIN_WAIT2 504<br>TIME_WAIT 1057 （处理完毕，等待超时结束的请求数）</p><p>服务器cpu数量<br>grep ^processor /proc/cpuinfo | wc -l</p><h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><p>1.移动所有文件到上级目录<br>mv * ../</p><p>2.删除所有文件<br>rm -r *</p><p>3.解压</p><p>1.tar zxvf XXX.tar.gz<br>2.unzip XXX.zip</p><p>4.压缩文件夹<br>tar -zcvf /usr/local/openresty/nginx.tar.gz /usr/local/openresty/nginx/</p><h2 id="查看登陆日志"><a href="#查看登陆日志" class="headerlink" title="查看登陆日志"></a>查看登陆日志</h2><p>查看ubuntu登陆日志<br>cat /var/log/auth.log</p><p>查看当前已登录的用户<br>w</p><p>查看（登录）用户名称及所启动的进程<br>who</p><p>随时查看系统的历史信息（曾经使用过系统的用户信息）<br>last</p><h2 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h2><p>linux 设置DNS，等待1分钟即生效<br>echo “nameserver 8.8.8.8” &gt; /etc/resolv.conf</p><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><h3 id="HTML2Markdown"><a href="#HTML2Markdown" class="headerlink" title="HTML2Markdown"></a>HTML2Markdown</h3><p><a href="http://html2markdown.eliyar.biz/" target="_blank" rel="external">在线转换：支持table</a></p><h3 id="domain"><a href="#domain" class="headerlink" title="domain"></a>domain</h3><p>检查域名或IP在国内各地的访问速度</p><p><a href="http://ping.chinaz.com/" target="_blank" rel="external">http://ping.chinaz.com/</a></p><h3 id="Google"><a href="#Google" class="headerlink" title="Google"></a>Google</h3><p>按照时间倒序</p><p>&amp;tbs=qdr:1,sbd:1</p><p>例：<a href="https://www.google.com.hk/search?q=JOOQ+使用&amp;tbs=qdr:1,sbd:1" target="_blank" rel="external">https://www.google.com.hk/search?q=JOOQ+使用&amp;tbs=qdr:1,sbd:1</a></p><h2 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h2><h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>1.Follow：<a href="https://segmentfault.com/a/1190000002485231" target="_blank" rel="external">https://segmentfault.com/a/1190000002485231</a></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ubuntu下，用以下这种脚本方式安装最方便，来源于sameersbn/docker-gitlab官方说明：</span><br><span class="line"></span><br><span class="line">sudo apt-get <span class="keyword">purge</span> docker.io</span><br><span class="line">curl -s https://<span class="keyword">get</span>.docker.io/ubuntu/ | sudo sh</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">update</span></span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> lxc-docker <span class="comment">--fix-missing</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">一行脚本，安装最新版docker</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">update</span> &amp;&amp; sudo apt-<span class="keyword">get</span> -y <span class="keyword">install</span> curl &amp;&amp; curl -fsSL https://<span class="keyword">get</span>.docker.com/gpg | sudo apt-<span class="keyword">key</span> <span class="keyword">add</span> - &amp;&amp; curl -fsSL https://<span class="keyword">get</span>.docker.com/ | sh</span><br><span class="line"></span><br><span class="line">### Docker Compose</span><br><span class="line"></span><br><span class="line">Compose 项目目前在[ Github ](https://github.com/docker/compose)上进行维护，目前最新版本是 <span class="number">1.2</span><span class="number">.0</span>。</span><br><span class="line"></span><br><span class="line">Compose 定位是“defining <span class="keyword">and</span> running complex applications <span class="keyword">with</span> Docker”，前身是[ Fig](<span class="keyword">http</span>://www.infoq.com/cn/articles/docker-<span class="keyword">build</span>-development-environment-based-<span class="keyword">on</span>-fig)，兼容 Fig 的模板文件。</span><br><span class="line">Dockerfile 可以让用户管理一个单独的应用容器；而 Compose 则允许用户在一个模板（YAML 格式）中定义一组相关联的应用容器（被称为一个 <span class="keyword">project</span>，即项目），例如一个 Web 服务容器再加上后端的数据库服务容器等。</span><br><span class="line"></span><br><span class="line">该项目由 Python 编写，实际上调用了 Docker 提供的 API 来实现。</span><br><span class="line"></span><br><span class="line">通过Python pip安装。</span><br><span class="line">apt-<span class="keyword">get</span> <span class="keyword">install</span> python-pip python-dev</span><br><span class="line">pip <span class="keyword">install</span> -U docker-compose</span><br></pre></td></tr></table></figure><h3 id="VPS-搭建"><a href="#VPS-搭建" class="headerlink" title="VPS 搭建"></a>VPS 搭建</h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#选用ubuntu 16稳定版 root用户</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># 检查linux kernel版本</span></span><br><span class="line">uname -a</span><br><span class="line"></span><br><span class="line"><span class="meta"># 更新系统</span></span><br><span class="line"></span><br><span class="line">apt update</span><br><span class="line"></span><br><span class="line"><span class="meta"># 安装openresty</span></span><br><span class="line">wget https:<span class="comment">//openresty.org/download/openresty-1.9.15.1.tar.gz</span></span><br><span class="line"></span><br><span class="line">tar xzvf openresty<span class="number">-1.9</span><span class="number">.15</span><span class="number">.1</span>.tar.gz</span><br><span class="line"></span><br><span class="line">mv openresty<span class="number">-1.9</span><span class="number">.15</span><span class="number">.1</span> openresty</span><br><span class="line"></span><br><span class="line">cd openresty</span><br><span class="line"></span><br><span class="line">apt-<span class="keyword">get</span> install libpcre3 libpcre3-dev</span><br><span class="line"></span><br><span class="line">apt-<span class="keyword">get</span> install openssl libssl-dev</span><br><span class="line"></span><br><span class="line">./configure</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">make install</span><br></pre></td></tr></table></figure><h2 id="学习资源"><a href="#学习资源" class="headerlink" title="学习资源"></a>学习资源</h2><h3 id="SQL查询优化总结"><a href="#SQL查询优化总结" class="headerlink" title="SQL查询优化总结"></a>SQL查询优化总结</h3><p>1、应尽量避免在 where 子句中使用!=或&lt;&gt;操作符，否则将引擎放弃使用索引而进行全表扫描。</p><p>2、对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。</p><p>3、应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如：</p><p>select id from t where num is null<br>可以在num上设置默认值0，确保表中num列没有null值，然后这样查询：</p><p>select id from t where num=0<br>4、尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描，如：</p><p>select id from t where num=10 or num=20<br>可以这样查询：</p><p>select id from t where num=10<br>union all<br>select id from t where num=20<br>5、下面的查询也将导致全表扫描：(不能前置百分号)</p><p>select id from t where name like ‘%abc%’<br>若要提高效率，可以考虑全文检索。</p><p>6、not in 要慎用，否则会导致全表扫描</p><p>in操作在有索引的字段（主键索引或普通索引）时，会使用索引</p><p>7、如果在 where 子句中使用参数，也会导致全表扫描。因为SQL只有在运行时才会解析局部变量，但优化程序不能将访问计划的选择推迟到运行时；它必须在编译时进行选择。然 而，如果在编译时建立访问计划，变量的值还是未知的，因而无法作为索引选择的输入项。如下面语句将进行全表扫描：</p><p>select id from t where num=@num<br>可以改为强制查询使用索引：</p><p>select id from t with(index(索引名)) where num=@num<br>8、应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如：</p><p>select id from t where num/2=100<br>应改为:</p><p>select id from t where num=100*2<br>9、应尽量避免在where子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。如：</p><p>select id from t where substring(name,1,3)=’abc’–name以abc开头的id<br>select id from t where datediff(day,createdate,’2005-11-30′)=0–’2005-11-30′生成的id<br>应改为:</p><p>select id from t where name like ‘abc%’<br>select id from t where createdate&gt;=’2005-11-30′ and createdate&lt;’2005-12-1′<br>10、不要在 where 子句中的“=”左边进行函数、算术运算或其他表达式运算，否则系统将可能无法正确使用索引。</p><p>11、在使用索引字段作为条件时，如果该索引是复合索引，那么必须使用到该索引中的第一个字段作为条件时才能保证系统使用该索引，否则该索引将不会被使 用，并且应尽可能的让字段顺序与索引顺序相一致。</p><p>12、不要写一些没有意义的查询，如需要生成一个空表结构：</p><p>select col1,col2 into #t from t where 1=0<br>这类代码不会返回任何结果集，但是会消耗系统资源的，应改成这样：</p><p>create table #t(…)<br>13、很多时候用 exists 代替 in 是一个好的选择：</p><p>select num from a where num in(select num from b)<br>用下面的语句替换：</p><p>select num from a where exists(select 1 from b where num=a.num)<br>14、并不是所有索引对查询都有效，SQL是根据表中数据来进行查询优化的，当索引列有大量数据重复时，SQL查询可能不会去利用索引，如一表中有字段 sex，male、female几乎各一半，那么即使在sex上建了索引也对查询效率起不了作用。</p><p>15、索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，因为 insert 或 update 时有可能会重建索引，所以怎样建索引需要慎重考虑，视具体情况而定。一个表的索引数最好不要超过6个，若太多则应考虑一些不常使用到的列上建的索引是否有 必要。</p><p>16.应尽可能的避免更新 clustered 索引数据列，因为 clustered 索引数据列的顺序就是表记录的物理存储顺序，一旦该列值改变将导致整个表记录的顺序的调整，会耗费相当大的资源。若应用系统需要频繁更新 clustered 索引数据列，那么需要考虑是否应将该索引建为 clustered 索引。</p><p>17、尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连接时会 逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。</p><p>18、尽可能的使用 varchar/nvarchar 代替 char/nchar ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。</p><p>19、任何地方都不要使用 select <em>from t ，用具体的字段列表代替“</em>”，不要返回用不到的任何字段。</p><p>20、尽量使用表变量来代替临时表。如果表变量包含大量数据，请注意索引非常有限（只有主键索引）。</p><p>21、避免频繁创建和删除临时表，以减少系统表资源的消耗。</p><p>22、临时表并不是不可使用，适当地使用它们可以使某些例程更有效，例如，当需要重复引用大型表或常用表中的某个数据集时。但是，对于一次性事件，最好使 用导出表。</p><p>23、在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，以提高速度；如果数据量不大，为了缓和系统表的资源，应先create table，然后insert。</p><p>24、如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后 drop table ，这样可以避免系统表的较长时间锁定。</p><p>25、尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。</p><p>26、使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。</p><p>27、与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，尤其是在必须引用几个表才能获得所需的数据时。在结果集中包括“合计”的例程通常要比使用游标执行的速度快。如果开发时 间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。</p><p>28、在所有的存储过程和触发器的开始处设置 SET NOCOUNT ON ，在结束时设置 SET NOCOUNT OFF 。无需在执行存储过程和触发器的每个语句后向客户端发送 DONE_IN_PROC 消息。</p><p>29、尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理。</p><p>30、尽量避免大事务操作，提高系统并发能力。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">实战：验证以上总结。以下SQL段，可以直接放到Navicat中批量执行</span><br><span class="line"></span><br><span class="line">//已知在order表，int类型字段uid上，已存在normal类型的索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`order`</span> (</span><br><span class="line">  <span class="string">`order_id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">'订单编号'</span>,</span><br><span class="line">  <span class="string">`uid`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'用户Id'</span>,</span><br><span class="line">  <span class="string">`amout`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'订单金额(单位为分)'</span>,</span><br><span class="line">  <span class="string">`remark`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="string">''</span> <span class="keyword">COMMENT</span> <span class="string">'订单备注'</span>,</span><br><span class="line">  <span class="string">`status`</span> tinyint(<span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'订单状态'</span>,</span><br><span class="line">  <span class="string">`order_time`</span> datetime <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'订单时间'</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`order_id`</span>),</span><br><span class="line">  <span class="keyword">KEY</span> <span class="string">`order_uid_normal_index`</span> (<span class="string">`uid`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">240</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid=<span class="number">185147</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid !=<span class="number">185147</span>;//不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid &gt;<span class="number">185147</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid &lt;<span class="number">185147</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid &gt;<span class="number">175147</span> <span class="keyword">and</span> uid &lt;<span class="number">185147</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid &lt;&gt;<span class="number">175147</span>;//不等于符号导致，不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid <span class="keyword">in</span>(<span class="number">185147</span>,<span class="number">185148</span>,<span class="number">185149</span>);//in操作符，不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid <span class="keyword">not</span> <span class="keyword">in</span>(<span class="number">185147</span>,<span class="number">185148</span>,<span class="number">185149</span>);//not in操作符，不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid <span class="keyword">between</span> <span class="number">185147</span> <span class="keyword">and</span> <span class="number">185149</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid=<span class="number">185147</span> <span class="keyword">or</span> uid=<span class="number">5147</span>;//or操作符导致，不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid=<span class="number">185147</span> <span class="keyword">UNION</span> all <span class="keyword">select</span> * <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid=<span class="number">185148</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid <span class="keyword">like</span> <span class="string">"%185%"</span>;//左%通配符，不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid <span class="keyword">like</span> <span class="string">"185%"</span>;//类型转换，不能使用索引。如果int是varchar类型则可以使用索引。</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid <span class="keyword">like</span> <span class="string">"%185"</span>;//左%通配符，不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid <span class="keyword">like</span> <span class="string">"185"</span>;//类型转换，不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> uid/<span class="number">2</span>=<span class="number">100</span> ;//谓词字段进行算术操作，不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> order_id,uid,order_time <span class="keyword">from</span> <span class="string">`order`</span> <span class="keyword">where</span> <span class="keyword">substring</span>(uid,<span class="number">1</span>,<span class="number">3</span>)=<span class="string">"abc"</span>;//谓词字段进行函数操作，不能使用索引</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> <span class="keyword">DISTINCT</span> uid <span class="keyword">from</span> <span class="string">`order`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPLAIN</span> <span class="keyword">select</span> <span class="keyword">max</span>(uid) <span class="keyword">from</span> <span class="string">`order`</span>;//返回字段进行函数操作，不能使用索引</span><br></pre></td></tr></table></figure><h3 id="排序算法的特点"><a href="#排序算法的特点" class="headerlink" title="排序算法的特点"></a>排序算法的特点</h3><table><thead><tr><th>排序法</th><th style="text-align:center">平均时间</th><th style="text-align:right">最差情形</th><th style="text-align:right">稳定度</th><th style="text-align:right">额外空间</th><th style="text-align:right">备注</th></tr></thead><tbody><tr><td>冒泡</td><td style="text-align:center">O(n<sup>2</sup>)</td><td style="text-align:right">O(n<sup>2</sup>)</td><td style="text-align:right">稳定</td><td style="text-align:right">O(1)</td><td style="text-align:right">n小时较好</td></tr><tr><td>交换</td><td style="text-align:center">O(n<sup>2</sup>)</td><td style="text-align:right">O(n<sup>2</sup>)</td><td style="text-align:right">不稳定</td><td style="text-align:right">O(1)</td><td style="text-align:right">n小时较好</td></tr><tr><td>选择</td><td style="text-align:center">O(n<sup>2</sup>)</td><td style="text-align:right">O(n<sup>2</sup>)</td><td style="text-align:right">不稳定</td><td style="text-align:right">O(1)</td><td style="text-align:right">n小时较好</td></tr><tr><td>插入</td><td style="text-align:center">O(n<sup>2</sup>)</td><td style="text-align:right">O(n<sup>2</sup>)</td><td style="text-align:right">稳定</td><td style="text-align:right">O(1)</td><td style="text-align:right">大部分已排序时较好</td></tr><tr><td>基数</td><td style="text-align:center">O(log<sub>R</sub>B)</td><td style="text-align:right">O(log<sub>R</sub>B)</td><td style="text-align:right">稳定</td><td style="text-align:right">O(n)</td><td style="text-align:right">B是真数(0-9)，R是基数(个十百)</td></tr><tr><td>Shell</td><td style="text-align:center">O(nlogn)</td><td style="text-align:right">O(n<sup>s</sup>) 1&lt;s&lt;2</td><td style="text-align:right">不稳定</td><td style="text-align:right">O(1)</td><td style="text-align:right">s是所选分组</td></tr><tr><td>快速</td><td style="text-align:center">O(nlogn)</td><td style="text-align:right">O(n<sup>2</sup>)</td><td style="text-align:right">不稳定</td><td style="text-align:right">O(nlogn)</td><td style="text-align:right">n大时较好</td></tr><tr><td>归并</td><td style="text-align:center">O(nlogn)</td><td style="text-align:right">O(nlogn)</td><td style="text-align:right">稳定</td><td style="text-align:right">O(1)</td><td style="text-align:right">n大时较好</td></tr><tr><td>堆</td><td style="text-align:center">O(nlogn)</td><td style="text-align:right">O(nlogn)</td><td style="text-align:right">不稳定</td><td style="text-align:right">O(1)</td><td style="text-align:right">n大时较好</td></tr></tbody></table><h3 id="MySQL快速导入4个G的SQL文件"><a href="#MySQL快速导入4个G的SQL文件" class="headerlink" title="MySQL快速导入4个G的SQL文件"></a>MySQL快速导入4个G的SQL文件</h3><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先假设SQL文件中的目标数据库是DB1</span><br><span class="line"><span class="number">2.</span>先在本机新建一个数据库DB1，设置好字符集:</span><br><span class="line"></span><br><span class="line">utf8 -- UTF<span class="number">-8</span> Unicode</span><br><span class="line">utf8_general_ci</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>确保数据库配置的字符集是utf8.</span><br><span class="line">mysql.ini文件，修改之后最好重启实例</span><br><span class="line">[client]</span><br><span class="line"><span class="keyword">default</span>-character-set=utf8</span><br><span class="line">[mysql]</span><br><span class="line"><span class="keyword">default</span>-character-set=utf8</span><br><span class="line">[mysqld]</span><br><span class="line">character_set_server=utf8</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>在DOS下执行</span><br><span class="line"></span><br><span class="line">Microsoft Windows [版本 <span class="number">6.1</span><span class="number">.7601</span>]</span><br><span class="line">版权所有 (c) <span class="number">2009</span> Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line"><span class="attribute">C</span>:\Users\Administrator&gt;cd <span class="attribute">f</span>:</span><br><span class="line"><span class="attribute">F</span>:\</span><br><span class="line"></span><br><span class="line"><span class="attribute">C</span>:\Users\Administrator&gt;<span class="attribute">f</span>:</span><br><span class="line"></span><br><span class="line"><span class="attribute">F</span>:\&gt;cd mysql</span><br><span class="line"></span><br><span class="line"><span class="attribute">F</span>:\mysql&gt;cd bin</span><br><span class="line"></span><br><span class="line"><span class="attribute">F</span>:\mysql\bin&gt;mysql &lt;<span class="attribute">F</span>:\data2\dump.sql  <span class="comment">//这一步会执行非常久</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>G的文件我执行了<span class="number">1</span>个小时</span><br></pre></td></tr></table></figure><h3 id="Hash算法"><a href="#Hash算法" class="headerlink" title="Hash算法"></a>Hash算法</h3><p><a href="http://blogread.cn/it/article/7577?f=wb" target="_blank" rel="external">一致性hash算法</a>提出了在动态变化的Cache环境中，判定哈希算法好坏的四个定义：</p><p>1、平衡性(Balance)：平衡性是指哈希的结果能够尽可能分布到所有的缓存中去，这样可以使得所有的缓冲空间都得到利用。</p><p>2、单调性(Monotonicity)：单调性是指如果已经有一些内容通过哈希分派到了相应的缓存中，又有新的缓存加入到系统中。哈希的结果应能够保证原有已分配的内容可以被映射到原有的或者新的缓存中去，而不会被映射到旧的缓存集合中的其他缓冲区。</p><p>3、分散性(Spread)：在分布式环境中，终端有可能看不到所有的缓冲，而是只能看到其中的一部分。当终端希望通过哈希过程将内容映射到缓冲上时，由于不同终端所见的缓冲范围有可能不同，从而导致哈希的结果不一致，最终的结果是相同的内容被不同的终端映射到不同的缓冲区中。这种情况显然是应该避免的，因为它导致相同内容被存储到不同缓冲中去，降低了系统存储的效率。分散性的定义就是上述情况发生的严重程度。好的哈希算法应能够尽量避免不一致的情况发生，也就是尽量降低分散性。</p><p>4、负载(Load)：负载问题实际上是从另一个角度看待分散性问题。既然不同的终端可能将相同的内容映射到不同的缓冲区中，那么对于一个特定的缓冲区而言，也可能被不同的用户映射为不同 的内容。与分散性一样，这种情况也是应当避免的，因此好的哈希算法应能够尽量降低缓冲的负荷。</p><h3 id="i-vs-i"><a href="#i-vs-i" class="headerlink" title="++i vs i++"></a>++i vs i++</h3><p>（1）如果只是看i++和++i，这两个是等价的，都等同于i=i+1，都是变量自身加1。<br>（2）在一般情况下，它们都是跟赋值联系在一起。<br>比如：<br>int a;<br>a=i++;//将i的值赋值给a，即a=i；然后再执行i=i+1；<br>也就是【a=i++;】与【a=i; i=i+1;】等价。<br>a=++i;//将i+1的值赋给a,即a=i+1;然后再执行i=i+1；<br>也就是【a=++i;】与【a=i+1;i=i+1;】等价。</p><p>（3）【总结一下】<br>①前置++是将自身加1的值赋值给新变量，同时自身也加1；<br>②后置++是将自身的值赋给新变量，然后才自身加1.</p><h2 id="Referrence"><a href="#Referrence" class="headerlink" title="Referrence"></a>Referrence</h2><ul><li><p><a href="http://tech.meituan.com/mysql-index.html" target="_blank" rel="external">美团点评技术团队：MySQL索引原理及慢查询优化</a></p></li><li><p><a href="https://yeasy.gitbooks.io/docker_practice/content/compose/intro.html" target="_blank" rel="external">Docker —— 从入门到实践</a></p></li><li><p><a href="http://www.51testing.com/html/00/130600-868004.html" target="_blank" rel="external">linux-利用iconv批量转换GBK文件到UTF-8编码方法</a></p></li></ul></div></div><p>热评文章</p><div class="ds-top-threads" data-range="weekly" data-num-items="4"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Steven Cheng"><p class="site-author-name" itemprop="name">Steven Cheng</p><p class="site-description motion-element" itemprop="description">https://www.kisscat.pro/about</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories"><span class="site-state-item-count">6</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags"><span class="site-state-item-count">52</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/amao12580" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-globe"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="http://segmentfault.com/blogs" title="SegmentFault" target="_blank">SegmentFault</a></li><li class="links-of-blogroll-item"><a href="http://blog.jobbole.com/" title="伯乐在线" target="_blank">伯乐在线</a></li><li class="links-of-blogroll-item"><a href="http://cnpolitics.org/" title="政见" target="_blank">政见</a></li><li class="links-of-blogroll-item"><a href="http://dajia.qq.com/" title="大家" target="_blank">大家</a></li><li class="links-of-blogroll-item"><a href="http://www.importnew.com/" title="ImportNew" target="_blank">ImportNew</a></li></ul></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2016</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Steven Cheng</span> <span class="post-count">&nbsp全站共140.3k字</span></div><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>访问量<span id="busuanzi_value_site_pv"></span> &nbsp 您是第<span id="busuanzi_value_site_uv"></span>个来到的小伙伴<script>var OriginTitile=document.title,st;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="(つェ⊂)我藏好了哦~",clearTimeout(st)):(document.title="(*´∇｀*)被你发现啦~ "+OriginTitile,console.log("show"),st=setTimeout(function(){document.title=OriginTitile},4e3))})</script></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script>"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script src="//cdn.bootcss.com/jquery/2.1.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js"></script><script src="//cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script><script src="//cdn.bootcss.com/velocity/1.2.3/velocity.min.js"></script><script src="//cdn.bootcss.com/velocity/1.2.3/velocity.ui.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script src="/js/src/main.js?v=5.0.1"></script><script src="//cdn.bootcss.com/bootstrap/3.2.0/js/affix.js"></script><script>var duoshuoQuery={short_name:"amao12580"};!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="duoshuo-script",t.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",t.charset="UTF-8",(document.getElementById("footer")||document.getElementsByTagName("body")[0]).appendChild(t)}()</script><script>function proceedsearch(){$("body").append('<div class="popoverlay">').css("overflow","hidden"),$(".popup").toggle()}var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path,searchFunc=function(e,t,a){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var r=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),c=document.getElementById(t),s=document.getElementById(a);c.addEventListener("input",function(){var e=0,t='<ul class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length>1&&r.forEach(function(r){var c=!0,s=r.title.trim().toLowerCase(),n=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),o=r.url,i=-1,l=-1,p=-1;if(""!=s&&""!=n&&a.forEach(function(e,t){i=s.indexOf(e),l=n.indexOf(e),0>i&&0>l?c=!1:(0>l&&(l=0),0==t&&(p=l))}),c){e+=1,t+="<li><a href='"+o+"' class='search-result-title'>"+s+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(p>=0){var u=p-20,d=p+80;0>u&&(u=0),0==u&&(d=50),d>h.length&&(d=h.length);var f=h.substring(u,d);a.forEach(function(e){var t=new RegExp(e,"gi");f=f.replace(t,'<b class="search-keyword">'+e+"</b>")}),t+='<p class="search-result">'+f+"...</p>"}t+="</li>"}}),t+="</ul>",0==e&&(t='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==a&&(t='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),s.innerHTML=t}),proceedsearch()}})};$(".popup-trigger").mousedown(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".popoverlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script></body></html>