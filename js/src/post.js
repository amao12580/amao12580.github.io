+function(t){"use strict";function s(e,i){this.$body=t(document.body),this.$scrollElement=t(t(e).is(document.body)?window:e),this.options=t.extend({},s.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function e(e){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),n="object"==typeof e&&e;o||i.data("bs.scrollspy",o=new s(this,n)),"string"==typeof e&&o[e]()})}s.VERSION="3.3.2",s.DEFAULTS={offset:10},s.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},s.prototype.refresh=function(){var s=this,e="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var s=t(this),o=s.data("target")||s.attr("href"),n=/^#./.test(o)&&t(NexT.utils.escapeSelector(o));return n&&n.length&&n.is(":visible")&&[[n[e]().top+i,o]]||null}).sort(function(t,s){return t[0]-s[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},s.prototype.process=function(){var s,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,l=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return r!=(s=l[l.length-1])&&this.activate(s);if(r&&e<n[0])return t(this.selector).trigger("clear.bs.scrollspy"),this.activeTarget=null,this.clear();for(s=n.length;s--;)r!=l[s]&&e>=n[s]&&(!n[s+1]||e<=n[s+1])&&this.activate(l[s])},s.prototype.activate=function(s){this.activeTarget=s,this.clear();var e=this.selector+'[data-target="'+s+'"],'+this.selector+'[href="'+s+'"]',i=t(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},s.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=e,t.fn.scrollspy.Constructor=s,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var s=t(this);e.call(s,s.data())})})}(jQuery),$(document).ready(function(){function t(){function t(){$(s+" "+i).removeClass(i.substring(1))}var s=".post-toc",e=$(s),i=".active-current";e.on("activate.bs.scrollspy",function(){var e=$(s+" .active").last();t(),e.addClass("active-current")}).on("clear.bs.scrollspy",t),$("body").scrollspy({target:s})}function s(){var t=$(".header-inner").height(),s=parseInt($(".main").css("padding-bottom"),10),e=t+10;$(".sidebar-inner").affix({offset:{top:e,bottom:s}}),$(document).on("affixed.bs.affix",function(){i(document.body.clientHeight-100)})}function e(){var t;$(window).on("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){var t=document.body.clientHeight-100;i(t)},0)}),i(document.body.clientHeight-100);var s=NexT.utils.getScrollbarWidth();$(".post-toc").css("width","calc(100% + "+s+"px)")}function i(t){t=t||"auto",$(".post-toc").css("max-height",t)}t(),NexT.utils.needAffix()&&s(),e()}),$(document).ready(function(){var t=$("html"),s=200,e=$.isFunction(t.velocity);$(".sidebar-nav li").on("click",function(){var t=$(this),i="sidebar-nav-active",o="sidebar-panel-active";if(!t.hasClass(i)){var n=$("."+o),l=$("."+t.data("target"));e?n.velocity("transition.slideUpOut",s,function(){l.velocity("stop").velocity("transition.slideDownIn",s).addClass(o)}):n.animate({opacity:0},s,function(){n.hide(),l.stop().css({opacity:0,display:"block"}).animate({opacity:1},s,function(){n.removeClass(o),l.addClass(o)})}),t.siblings().removeClass(i),t.addClass(i)}}),$(".post-toc a").on("click",function(s){s.preventDefault();var i=NexT.utils.escapeSelector(this.getAttribute("href")),o=$(i).offset().top;e?t.velocity("stop").velocity("scroll",{offset:o+"px",mobileHA:!1}):$("html, body").stop().animate({scrollTop:o},500)}),NexT.motion.middleWares.sidebar=function(){var t=$(".post-toc-content");"post"!==CONFIG.sidebar.display&&"always"!==CONFIG.sidebar.display||t.length>0&&t.html().trim().length>0&&NexT.utils.displaySidebar()}});